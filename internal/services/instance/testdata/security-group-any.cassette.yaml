---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 223
    host: api.scaleway.com
    body: "{\"name\":\"tf-sg-confident-allen\",\"project\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"tags\":[\"test-terraform\"],\"stateful\":true,\"inbound_default_policy\":\"accept\",\"outbound_default_policy\":\"accept\",\"enable_default_security\":true}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 603
    body: "{\"security_group\": {\"id\": \"3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f\", \"creation_date\": \"2025-10-30T15:42:33.936034+00:00\", \"modification_date\": \"2025-10-30T15:42:33.936034+00:00\", \"name\": \"tf-sg-confident-allen\", \"description\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"servers\": [], \"stateful\": true, \"inbound_default_policy\": \"accept\", \"outbound_default_policy\": \"accept\", \"organization_default\": false, \"project_default\": false, \"enable_default_security\": true, \"state\": \"available\", \"tags\": [\"test-terraform\"], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "603"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:33 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - b40a72cb-f7df-474e-aff0-f777b9c8c4bb
    status: 201 Created
    code: 201
    duration: 237.192359ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 143
    host: api.scaleway.com
    body: "{\"enable_default_security\":true,\"inbound_default_policy\":\"accept\",\"tags\":[\"test-terraform\"],\"outbound_default_policy\":\"accept\",\"stateful\":true}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f
    method: PATCH
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 603
    body: "{\"security_group\": {\"id\": \"3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f\", \"creation_date\": \"2025-10-30T15:42:33.936034+00:00\", \"modification_date\": \"2025-10-30T15:42:33.936034+00:00\", \"name\": \"tf-sg-confident-allen\", \"description\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"servers\": [], \"stateful\": true, \"inbound_default_policy\": \"accept\", \"outbound_default_policy\": \"accept\", \"organization_default\": false, \"project_default\": false, \"enable_default_security\": true, \"state\": \"available\", \"tags\": [\"test-terraform\"], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "603"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - dd8ef9b2-64e2-4109-8ac5-3ffedeeb103e
    status: 200 OK
    code: 200
    duration: 156.674276ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 551
    host: api.scaleway.com
    body: "{\"rules\":[{\"id\":null,\"action\":\"drop\",\"protocol\":\"ANY\",\"direction\":\"inbound\",\"ip_range\":\"1.1.1.1/32\",\"dest_port_from\":null,\"dest_port_to\":null,\"position\":0,\"editable\":null,\"zone\":\"fr-par-1\"},{\"id\":null,\"action\":\"drop\",\"protocol\":\"ANY\",\"direction\":\"inbound\",\"ip_range\":\"2.2.2.2/32\",\"dest_port_from\":null,\"dest_port_to\":null,\"position\":0,\"editable\":null,\"zone\":\"fr-par-1\"},{\"id\":null,\"action\":\"drop\",\"protocol\":\"ANY\",\"direction\":\"inbound\",\"ip_range\":\"3.3.3.3/32\",\"dest_port_from\":null,\"dest_port_to\":null,\"position\":0,\"editable\":null,\"zone\":\"fr-par-1\"}]}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f/rules
    method: PUT
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 2298
    body: "{\"rules\": [{\"id\": \"11111111-2222-4333-8444-000000000001\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 1, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000002\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 2, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000003\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 3, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000004\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 4, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000005\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 5, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000006\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 6, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"8acfe28e-6d73-4749-acbd-7c162ccd35ca\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"1.1.1.1\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 1, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"8eed20d4-91f1-4af5-9905-672281821697\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"2.2.2.2\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 2, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"c90b3da3-0d3f-4331-b5c7-e0f7a56f8e99\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"3.3.3.3\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 3, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}]}"
    headers:
      Content-Length:
      - "2298"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 7f48b153-3918-40f1-83af-72963a45fbcc
    status: 200 OK
    code: 200
    duration: 297.712251ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 603
    body: "{\"security_group\": {\"id\": \"3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f\", \"creation_date\": \"2025-10-30T15:42:33.936034+00:00\", \"modification_date\": \"2025-10-30T15:42:34.418891+00:00\", \"name\": \"tf-sg-confident-allen\", \"description\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"servers\": [], \"stateful\": true, \"inbound_default_policy\": \"accept\", \"outbound_default_policy\": \"accept\", \"organization_default\": false, \"project_default\": false, \"enable_default_security\": true, \"state\": \"available\", \"tags\": [\"test-terraform\"], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "603"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 9df2fad8-7c97-4c2c-8654-62a6df7b2750
    status: 200 OK
    code: 200
    duration: 112.79608ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f/rules?page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 2298
    body: "{\"rules\": [{\"id\": \"11111111-2222-4333-8444-000000000001\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 1, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000002\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 2, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000003\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 3, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000004\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 4, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000005\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 5, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000006\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 6, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"8acfe28e-6d73-4749-acbd-7c162ccd35ca\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"1.1.1.1\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 1, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"8eed20d4-91f1-4af5-9905-672281821697\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"2.2.2.2\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 2, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"c90b3da3-0d3f-4331-b5c7-e0f7a56f8e99\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"3.3.3.3\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 3, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}]}"
    headers:
      Content-Length:
      - "2298"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 19caac9d-1253-4778-aac3-4bf9f540bc17
    status: 200 OK
    code: 200
    duration: 113.955134ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 603
    body: "{\"security_group\": {\"id\": \"3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f\", \"creation_date\": \"2025-10-30T15:42:33.936034+00:00\", \"modification_date\": \"2025-10-30T15:42:34.418891+00:00\", \"name\": \"tf-sg-confident-allen\", \"description\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"servers\": [], \"stateful\": true, \"inbound_default_policy\": \"accept\", \"outbound_default_policy\": \"accept\", \"organization_default\": false, \"project_default\": false, \"enable_default_security\": true, \"state\": \"available\", \"tags\": [\"test-terraform\"], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "603"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 6a1faa5e-0d65-4397-929b-be4e81444ed6
    status: 200 OK
    code: 200
    duration: 96.619627ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f/rules?page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 2298
    body: "{\"rules\": [{\"id\": \"11111111-2222-4333-8444-000000000001\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 1, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000002\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 2, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000003\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 3, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000004\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 4, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000005\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 5, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000006\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 6, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"8acfe28e-6d73-4749-acbd-7c162ccd35ca\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"1.1.1.1\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 1, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"8eed20d4-91f1-4af5-9905-672281821697\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"2.2.2.2\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 2, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"c90b3da3-0d3f-4331-b5c7-e0f7a56f8e99\", \"protocol\": \"ANY\", \"direction\": \"inbound\", \"ip_range\": \"3.3.3.3\", \"dest_ip_range\": null, \"dest_port_from\": null, \"dest_port_to\": null, \"position\": 3, \"editable\": true, \"action\": \"drop\", \"zone\": \"fr-par-1\"}]}"
    headers:
      Content-Length:
      - "2298"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - f8c1d590-5463-4137-b542-b7fbca3d3589
    status: 200 OK
    code: 200
    duration: 101.958342ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 9f639264-7b5d-40c1-8d4d-3106d61ea596
    status: 204 No Content
    code: 204
    duration: 146.016034ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 151
    body: "{\"type\": \"not_found\", \"message\": \"resource is not found\", \"resource\": \"instance_security_group\", \"resource_id\": \"3de9e9ab-4f91-4d4e-bc92-0e13bfdb767f\"}"
    headers:
      Content-Length:
      - "151"
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 15:42:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - eea3487e-42ca-4679-85c5-a692b12ad531
    status: 404 Not Found
    code: 404
    duration: 31.27748ms
