---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 125
    host: api.scaleway.com
    body: "{\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 349
    body: "{\"id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\",\"status\":\"pending\",\"errors\":[],\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"created_at\":\"2025-08-26T16:25:34.310706635Z\",\"updated_at\":\"2025-08-26T16:25:34.310706635Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Length:
      - "349"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 229bb5c9-1c81-47ab-bae3-38e5f24630ac
    status: 200 OK
    code: 200
    duration: 3.839377686s
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/d4b4228c-0a79-4dfc-8fea-222f71104cce
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 343
    body: "{\"id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\",\"status\":\"pending\",\"errors\":[],\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"created_at\":\"2025-08-26T16:25:34.310706Z\",\"updated_at\":\"2025-08-26T16:25:34.310706Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Length:
      - "343"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 6ced8b5f-af2f-4936-ab52-9f62910f9b77
    status: 200 OK
    code: 200
    duration: 217.279057ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 36
    host: api.scaleway.com
    body: "{\"mode\":\"enable\",\"paranoia_level\":3}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/d4b4228c-0a79-4dfc-8fea-222f71104cce/waf-stages
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 225
    body: "{\"id\":\"3c64e07f-6e3b-4f9c-9437-0c8f36495fde\",\"pipeline_id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"mode\":\"enable\",\"paranoia_level\":3,\"created_at\":\"2025-08-26T16:25:34.737726140Z\",\"updated_at\":\"2025-08-26T16:25:34.737726140Z\"}"
    headers:
      Content-Length:
      - "225"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 3aaf284b-9521-4a4a-8a36-12fe6e8c0d36
    status: 200 OK
    code: 200
    duration: 193.990711ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/waf-stages/3c64e07f-6e3b-4f9c-9437-0c8f36495fde
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 219
    body: "{\"id\":\"3c64e07f-6e3b-4f9c-9437-0c8f36495fde\",\"pipeline_id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"mode\":\"enable\",\"paranoia_level\":3,\"created_at\":\"2025-08-26T16:25:34.737726Z\",\"updated_at\":\"2025-08-26T16:25:34.737726Z\"}"
    headers:
      Content-Length:
      - "219"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 76a0c8be-c72e-4a10-929a-bf494d4c301b
    status: 200 OK
    code: 200
    duration: 345.018514ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/waf-stages/3c64e07f-6e3b-4f9c-9437-0c8f36495fde
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 219
    body: "{\"id\":\"3c64e07f-6e3b-4f9c-9437-0c8f36495fde\",\"pipeline_id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"mode\":\"enable\",\"paranoia_level\":3,\"created_at\":\"2025-08-26T16:25:34.737726Z\",\"updated_at\":\"2025-08-26T16:25:34.737726Z\"}"
    headers:
      Content-Length:
      - "219"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:37 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 77b799cc-5216-4040-9cb7-06d4622c71bb
    status: 200 OK
    code: 200
    duration: 132.724523ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/d4b4228c-0a79-4dfc-8fea-222f71104cce
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 343
    body: "{\"id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\",\"status\":\"pending\",\"errors\":[],\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"created_at\":\"2025-08-26T16:25:34.310706Z\",\"updated_at\":\"2025-08-26T16:25:34.310706Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Length:
      - "343"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:44 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 7a85e567-6dcd-435a-936c-af45a07a3f99
    status: 200 OK
    code: 200
    duration: 110.76221ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/waf-stages/3c64e07f-6e3b-4f9c-9437-0c8f36495fde
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 219
    body: "{\"id\":\"3c64e07f-6e3b-4f9c-9437-0c8f36495fde\",\"pipeline_id\":\"d4b4228c-0a79-4dfc-8fea-222f71104cce\",\"mode\":\"enable\",\"paranoia_level\":3,\"created_at\":\"2025-08-26T16:25:34.737726Z\",\"updated_at\":\"2025-08-26T16:25:34.737726Z\"}"
    headers:
      Content-Length:
      - "219"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:44 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - dd45511c-a08a-4b8f-8158-b3bdcc1bc9a7
    status: 200 OK
    code: 200
    duration: 186.117354ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/waf-stages/3c64e07f-6e3b-4f9c-9437-0c8f36495fde
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:53 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - a4620dc3-0966-457c-b155-5ba354228474
    status: 204 No Content
    code: 204
    duration: 142.99874ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/d4b4228c-0a79-4dfc-8fea-222f71104cce
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:53 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 510419ac-2ee7-4fa1-9431-6ced3fd5e70a
    status: 204 No Content
    code: 204
    duration: 151.48565ms
- id: 9
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/waf-stages/3c64e07f-6e3b-4f9c-9437-0c8f36495fde
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 31
    body: "{\"message\":\"Permission denied\"}"
    headers:
      Content-Length:
      - "31"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:53 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - a1166f62-2a39-4c45-ab6b-3f6450c78dfb
    status: 403 Forbidden
    code: 403
    duration: 119.955456ms
