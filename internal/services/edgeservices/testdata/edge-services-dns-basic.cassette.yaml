---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 125
    host: api.scaleway.com
    body: "{\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 349
    body: "{\"id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\",\"status\":\"pending\",\"errors\":[],\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"created_at\":\"2025-08-26T16:25:34.365478849Z\",\"updated_at\":\"2025-08-26T16:25:34.365478849Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Length:
      - "349"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 1ce43643-fb58-427c-8a36-43e2efef565b
    status: 200 OK
    code: 200
    duration: 4.671869793s
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/f5d9dda0-7cfe-47c4-b191-07d180e64fe0
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 343
    body: "{\"id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\",\"status\":\"pending\",\"errors\":[],\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"created_at\":\"2025-08-26T16:25:34.365478Z\",\"updated_at\":\"2025-08-26T16:25:34.365478Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Length:
      - "343"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:34 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 93e878dc-e2f4-415d-b1a4-a2ff1d2546b4
    status: 200 OK
    code: 200
    duration: 189.182867ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 35
    host: api.scaleway.com
    body: "{\"fqdns\":[\"subodomain.example.fr\"]}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/f5d9dda0-7cfe-47c4-b191-07d180e64fe0/dns-stages
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 240
    body: "{\"id\":\"ef18a9e6-36b3-457b-b840-3244d688e55d\",\"fqdns\":[\"subodomain.example.fr\"],\"type\":\"custom\",\"pipeline_id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"created_at\":\"2025-08-26T16:25:34.985062128Z\",\"updated_at\":\"2025-08-26T16:25:34.985062128Z\"}"
    headers:
      Content-Length:
      - "240"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 0e386365-4676-489a-a55d-67500ecc2863
    status: 200 OK
    code: 200
    duration: 488.614822ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/ef18a9e6-36b3-457b-b840-3244d688e55d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 234
    body: "{\"id\":\"ef18a9e6-36b3-457b-b840-3244d688e55d\",\"fqdns\":[\"subodomain.example.fr\"],\"type\":\"custom\",\"pipeline_id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"created_at\":\"2025-08-26T16:25:34.985062Z\",\"updated_at\":\"2025-08-26T16:25:34.985062Z\"}"
    headers:
      Content-Length:
      - "234"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:35 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 9e9cd804-0b05-4147-99e7-cc88842520c6
    status: 200 OK
    code: 200
    duration: 121.422851ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/ef18a9e6-36b3-457b-b840-3244d688e55d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 234
    body: "{\"id\":\"ef18a9e6-36b3-457b-b840-3244d688e55d\",\"fqdns\":[\"subodomain.example.fr\"],\"type\":\"custom\",\"pipeline_id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"created_at\":\"2025-08-26T16:25:34.985062Z\",\"updated_at\":\"2025-08-26T16:25:34.985062Z\"}"
    headers:
      Content-Length:
      - "234"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:37 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - f121b1b0-6146-4a6c-9dcb-2ea5cfa25cdb
    status: 200 OK
    code: 200
    duration: 365.046525ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/f5d9dda0-7cfe-47c4-b191-07d180e64fe0
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 343
    body: "{\"id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"name\":\"my-edge_services-pipeline\",\"description\":\"pipeline description\",\"status\":\"pending\",\"errors\":[],\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"created_at\":\"2025-08-26T16:25:34.365478Z\",\"updated_at\":\"2025-08-26T16:25:34.365478Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Length:
      - "343"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:44 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - f6b77ebb-63d0-44a8-b057-792a9daf2a94
    status: 200 OK
    code: 200
    duration: 338.944518ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/ef18a9e6-36b3-457b-b840-3244d688e55d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 234
    body: "{\"id\":\"ef18a9e6-36b3-457b-b840-3244d688e55d\",\"fqdns\":[\"subodomain.example.fr\"],\"type\":\"custom\",\"pipeline_id\":\"f5d9dda0-7cfe-47c4-b191-07d180e64fe0\",\"created_at\":\"2025-08-26T16:25:34.985062Z\",\"updated_at\":\"2025-08-26T16:25:34.985062Z\"}"
    headers:
      Content-Length:
      - "234"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:44 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - c699f766-775a-4e95-add6-1821dbc84c02
    status: 200 OK
    code: 200
    duration: 110.124709ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/ef18a9e6-36b3-457b-b840-3244d688e55d
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:51 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - afecc219-f596-4357-a517-bdd598be5e1e
    status: 204 No Content
    code: 204
    duration: 170.97875ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/pipelines/f5d9dda0-7cfe-47c4-b191-07d180e64fe0
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:51 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - f0d131b6-cdad-438b-851e-6a9d93a8d599
    status: 204 No Content
    code: 204
    duration: 184.88147ms
- id: 9
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/ef18a9e6-36b3-457b-b840-3244d688e55d
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 31
    body: "{\"message\":\"Permission denied\"}"
    headers:
      Content-Length:
      - "31"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:51 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge02)
      X-Request-Id:
      - 2e174d75-4393-4c2a-9948-78031f7efe48
    status: 403 Forbidden
    code: 403
    duration: 183.691569ms
