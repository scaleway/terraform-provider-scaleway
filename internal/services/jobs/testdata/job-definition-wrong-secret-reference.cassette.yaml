---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 136
    host: api.scaleway.com
    body: "{\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"name\":\"wrong-job-secret\",\"tags\":null,\"type\":\"opaque\",\"path\":\"/\",\"protected\":false}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 430
    body: "{\"id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"name\":\"wrong-job-secret\",\"status\":\"ready\",\"created_at\":\"2025-08-26T16:27:39.785983Z\",\"updated_at\":\"2025-08-26T16:27:39.785983Z\",\"tags\":[],\"version_count\":0,\"description\":\"\",\"managed\":false,\"type\":\"opaque\",\"protected\":false,\"path\":\"/\",\"ephemeral_policy\":null,\"used_by\":[],\"deletion_requested_at\":null,\"key_id\":null,\"region\":\"fr-par\"}"
    headers:
      Content-Length:
      - "430"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:39 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 34e3e945-3a07-4885-bd58-132b9e9ba06c
    status: 200 OK
    code: 200
    duration: 619.982041ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 430
    body: "{\"id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"name\":\"wrong-job-secret\",\"status\":\"ready\",\"created_at\":\"2025-08-26T16:27:39.785983Z\",\"updated_at\":\"2025-08-26T16:27:39.785983Z\",\"tags\":[],\"version_count\":0,\"description\":\"\",\"managed\":false,\"type\":\"opaque\",\"protected\":false,\"path\":\"/\",\"ephemeral_policy\":null,\"used_by\":[],\"deletion_requested_at\":null,\"key_id\":null,\"region\":\"fr-par\"}"
    headers:
      Content-Length:
      - "430"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:40 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - fa70cc16-c800-4313-b70f-efc2813f9cfb
    status: 200 OK
    code: 200
    duration: 112.825634ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4/versions?page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 31
    body: "{\"versions\":[],\"total_count\":0}"
    headers:
      Content-Length:
      - "31"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:40 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - ef3be50e-48d6-4b07-af14-2d3930289d24
    status: 200 OK
    code: 200
    duration: 231.125212ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 224
    host: api.scaleway.com
    body: "{\"name\":\"test-jobs-job-definition-secret\",\"cpu_limit\":120,\"memory_limit\":256,\"image_uri\":\"docker.io/alpine:latest\",\"command\":\"\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"environment_variables\":{},\"description\":\"\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 446
    body: "{\"id\":\"7c61e9c1-b6e0-4793-9fd5-b1e4343889fb\",\"name\":\"test-jobs-job-definition-secret\",\"created_at\":\"2025-08-26T16:27:41.034563Z\",\"updated_at\":\"2025-08-26T16:27:41.034563Z\",\"cpu_limit\":120,\"memory_limit\":256,\"image_uri\":\"docker.io/alpine:latest\",\"command\":\"\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"environment_variables\":{},\"description\":\"\",\"job_timeout\":\"86400s\",\"cron_schedule\":null,\"local_storage_capacity\":5120,\"region\":\"fr-par\"}"
    headers:
      Content-Length:
      - "446"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:41 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 74feac3d-0410-43f7-be63-1b815b6dd22e
    status: 200 OK
    code: 200
    duration: 170.799904ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 27
    host: api.scaleway.com
    body: "{\"data\":\"eW91cl9zZWNyZXQ=\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4/versions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 276
    body: "{\"revision\":1,\"secret_id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"status\":\"enabled\",\"created_at\":\"2025-08-26T16:27:41.214067Z\",\"updated_at\":\"2025-08-26T16:27:41.214067Z\",\"deleted_at\":null,\"description\":\"\",\"latest\":true,\"ephemeral_properties\":null,\"deletion_requested_at\":null}"
    headers:
      Content-Length:
      - "276"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:41 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - d1655224-af00-43b8-8175-a450a558016b
    status: 200 OK
    code: 200
    duration: 423.830215ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4/versions/1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 276
    body: "{\"revision\":1,\"secret_id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"status\":\"enabled\",\"created_at\":\"2025-08-26T16:27:41.214067Z\",\"updated_at\":\"2025-08-26T16:27:41.214067Z\",\"deleted_at\":null,\"description\":\"\",\"latest\":true,\"ephemeral_properties\":null,\"deletion_requested_at\":null}"
    headers:
      Content-Length:
      - "276"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:41 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 1efa799a-fdcc-4240-a047-f27bcdd5df34
    status: 200 OK
    code: 200
    duration: 36.200651ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 430
    body: "{\"id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"name\":\"wrong-job-secret\",\"status\":\"ready\",\"created_at\":\"2025-08-26T16:27:39.785983Z\",\"updated_at\":\"2025-08-26T16:27:39.785983Z\",\"tags\":[],\"version_count\":1,\"description\":\"\",\"managed\":false,\"type\":\"opaque\",\"protected\":false,\"path\":\"/\",\"ephemeral_policy\":null,\"used_by\":[],\"deletion_requested_at\":null,\"key_id\":null,\"region\":\"fr-par\"}"
    headers:
      Content-Length:
      - "430"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:43 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 89b68e67-c1d0-4e20-8ddb-f3e8d90f9059
    status: 200 OK
    code: 200
    duration: 136.182464ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4/versions?page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 307
    body: "{\"versions\":[{\"revision\":1,\"secret_id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"status\":\"enabled\",\"created_at\":\"2025-08-26T16:27:41.214067Z\",\"updated_at\":\"2025-08-26T16:27:41.214067Z\",\"deleted_at\":null,\"description\":\"\",\"latest\":true,\"ephemeral_properties\":null,\"deletion_requested_at\":null}],\"total_count\":1}"
    headers:
      Content-Length:
      - "307"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:43 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 04d25a5b-d712-4ef4-8411-49230aed7bd2
    status: 200 OK
    code: 200
    duration: 41.201836ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4/versions/1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 276
    body: "{\"revision\":1,\"secret_id\":\"6dcbde48-349b-4d42-bfaf-7368c6a4e0c4\",\"status\":\"enabled\",\"created_at\":\"2025-08-26T16:27:41.214067Z\",\"updated_at\":\"2025-08-26T16:27:41.214067Z\",\"deleted_at\":null,\"description\":\"\",\"latest\":true,\"ephemeral_properties\":null,\"deletion_requested_at\":null}"
    headers:
      Content-Length:
      - "276"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:43 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - e27e980f-4920-479a-a1b0-d149f3501450
    status: 200 OK
    code: 200
    duration: 79.219456ms
- id: 9
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 224
    host: api.scaleway.com
    body: "{\"name\":\"test-jobs-job-definition-secret\",\"cpu_limit\":120,\"memory_limit\":256,\"image_uri\":\"docker.io/alpine:latest\",\"command\":\"\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"environment_variables\":{},\"description\":\"\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 446
    body: "{\"id\":\"1dc885be-00c6-4ee6-ba78-9796d710db1d\",\"name\":\"test-jobs-job-definition-secret\",\"created_at\":\"2025-08-26T16:27:52.114309Z\",\"updated_at\":\"2025-08-26T16:27:52.114309Z\",\"cpu_limit\":120,\"memory_limit\":256,\"image_uri\":\"docker.io/alpine:latest\",\"command\":\"\",\"project_id\":\"d03c0af1-fec9-44aa-a12c-54cb13072778\",\"environment_variables\":{},\"description\":\"\",\"job_timeout\":\"86400s\",\"cron_schedule\":null,\"local_storage_capacity\":5120,\"region\":\"fr-par\"}"
    headers:
      Content-Length:
      - "446"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:52 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 495f502f-93e6-4cef-b45f-44c26e6f52e7
    status: 200 OK
    code: 200
    duration: 137.799673ms
- id: 10
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4/versions/1
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:55 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - 8d26cf05-fa0c-4203-baa0-9ca2adf70977
    status: 204 No Content
    code: 204
    duration: 125.858772ms
- id: 11
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/secret-manager/v1beta1/regions/fr-par/secrets/6dcbde48-349b-4d42-bfaf-7368c6a4e0c4
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:27:55 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      X-Request-Id:
      - a2915e82-d992-41da-a92e-c6eeea4924d4
    status: 204 No Content
    code: 204
    duration: 148.911128ms
