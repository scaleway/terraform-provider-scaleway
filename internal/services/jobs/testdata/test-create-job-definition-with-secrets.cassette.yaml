---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 224
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"name":"test-jobs-job-definition-secret","cpu_limit":120,"memory_limit":256,"image_uri":"docker.io/alpine:latest","command":"","project_id":"6867048b-fe12-4e96-835e-41c79a39604b","environment_variables":{},"description":""}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 446
        uncompressed: false
        body: '{"command":"","cpu_limit":120,"created_at":"2025-04-07T09:22:03.394735Z","cron_schedule":null,"description":"","environment_variables":{},"id":"a0b58e26-c59b-43ed-8cf8-8ff0968da798","image_uri":"docker.io/alpine:latest","job_timeout":"86400s","local_storage_capacity":5120,"memory_limit":256,"name":"test-jobs-job-definition-secret","project_id":"6867048b-fe12-4e96-835e-41c79a39604b","region":"fr-par","updated_at":"2025-04-07T09:22:03.394735Z"}'
        headers:
            Content-Length:
                - "446"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:03 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 844bc1d1-a0aa-4126-aa5d-a91dbcd542a9
        status: 200 OK
        code: 200
        duration: 461.910875ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 242
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"secrets":[{"secret_manager_id":"feca5b9f-b192-415f-9bc1-c876a4e3263c","secret_manager_version":"1","env_var_name":"SOME_ENV"},{"secret_manager_id":"feca5b9f-b192-415f-9bc1-c876a4e3263c","secret_manager_version":"1","path":"/home/dev/env"}]}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions/a0b58e26-c59b-43ed-8cf8-8ff0968da798/secrets
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 357
        uncompressed: false
        body: '{"secrets":[{"env_var":{"name":"SOME_ENV"},"secret_id":"a11dbb4a-7383-4ac6-887d-7610a5550d7f","secret_manager_id":"feca5b9f-b192-415f-9bc1-c876a4e3263c","secret_manager_version":"1"},{"file":{"path":"/home/dev/env"},"secret_id":"243c2451-7b39-4376-bf8c-d5cc7509521b","secret_manager_id":"feca5b9f-b192-415f-9bc1-c876a4e3263c","secret_manager_version":"1"}]}'
        headers:
            Content-Length:
                - "357"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:03 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 7adc14e6-7caf-452a-9737-76fa8657889a
        status: 200 OK
        code: 200
        duration: 148.968834ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions/a0b58e26-c59b-43ed-8cf8-8ff0968da798
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 446
        uncompressed: false
        body: '{"command":"","cpu_limit":120,"created_at":"2025-04-07T09:22:03.394735Z","cron_schedule":null,"description":"","environment_variables":{},"id":"a0b58e26-c59b-43ed-8cf8-8ff0968da798","image_uri":"docker.io/alpine:latest","job_timeout":"86400s","local_storage_capacity":5120,"memory_limit":256,"name":"test-jobs-job-definition-secret","project_id":"6867048b-fe12-4e96-835e-41c79a39604b","region":"fr-par","updated_at":"2025-04-07T09:22:03.394735Z"}'
        headers:
            Content-Length:
                - "446"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:03 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 999b613d-b988-41bb-a5ba-1ed30b9621b1
        status: 200 OK
        code: 200
        duration: 41.621667ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions/a0b58e26-c59b-43ed-8cf8-8ff0968da798
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 446
        uncompressed: false
        body: '{"command":"","cpu_limit":120,"created_at":"2025-04-07T09:22:03.394735Z","cron_schedule":null,"description":"","environment_variables":{},"id":"a0b58e26-c59b-43ed-8cf8-8ff0968da798","image_uri":"docker.io/alpine:latest","job_timeout":"86400s","local_storage_capacity":5120,"memory_limit":256,"name":"test-jobs-job-definition-secret","project_id":"6867048b-fe12-4e96-835e-41c79a39604b","region":"fr-par","updated_at":"2025-04-07T09:22:03.394735Z"}'
        headers:
            Content-Length:
                - "446"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:03 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - de9f1792-89ff-4145-bb56-a179bff71adf
        status: 200 OK
        code: 200
        duration: 39.362875ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions/a0b58e26-c59b-43ed-8cf8-8ff0968da798
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 446
        uncompressed: false
        body: '{"command":"","cpu_limit":120,"created_at":"2025-04-07T09:22:03.394735Z","cron_schedule":null,"description":"","environment_variables":{},"id":"a0b58e26-c59b-43ed-8cf8-8ff0968da798","image_uri":"docker.io/alpine:latest","job_timeout":"86400s","local_storage_capacity":5120,"memory_limit":256,"name":"test-jobs-job-definition-secret","project_id":"6867048b-fe12-4e96-835e-41c79a39604b","region":"fr-par","updated_at":"2025-04-07T09:22:03.394735Z"}'
        headers:
            Content-Length:
                - "446"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:03 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - e6d4cf9c-1126-434f-a80e-9e0465e6a739
        status: 200 OK
        code: 200
        duration: 51.710375ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions/a0b58e26-c59b-43ed-8cf8-8ff0968da798
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:04 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - f5c07855-df64-44c0-9aec-600c7236864c
        status: 204 No Content
        code: 204
        duration: 67.154292ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/serverless-jobs/v1alpha1/regions/fr-par/job-definitions/a0b58e26-c59b-43ed-8cf8-8ff0968da798
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 41
        uncompressed: false
        body: '{"message":"job definition is not found"}'
        headers:
            Content-Length:
                - "41"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Mon, 07 Apr 2025 09:22:04 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge01)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 55a79c5d-8c6d-4194-a670-1d15a9397c83
        status: 404 Not Found
        code: 404
        duration: 26.6335ms
