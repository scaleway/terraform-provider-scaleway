---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 234
    host: api.scaleway.com
    body: "{\"changes\":[{\"add\":{\"records\":[{\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":0,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null,\"id\":\"\"}]}}],\"return_all_records\":false,\"disallow_new_zone_creation\":false}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records
    method: PATCH
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 188
    body: "{\"records\":[{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\",\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":100,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "188"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:28 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - cc25c825-2845-4ff4-b686-13aaa8f6692c
    status: 200 OK
    code: 200
    duration: 793.047581ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      name:
      - _proxy-preproduction._tcp
      order_by:
      - name_asc
      type:
      - SRV
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records?name=_proxy-preproduction._tcp&order_by=name_asc&type=SRV
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 204
    body: "{\"total_count\":1,\"records\":[{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\",\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":100,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "204"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:29 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - 8a8b886e-d278-47e8-b9bd-814c045988f8
    status: 200 OK
    code: 200
    duration: 190.632051ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      name:
      - _proxy-preproduction._tcp
      order_by:
      - name_asc
      page:
      - "1"
      type:
      - SRV
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records?name=_proxy-preproduction._tcp&order_by=name_asc&page=1&type=SRV
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 204
    body: "{\"total_count\":1,\"records\":[{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\",\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":100,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "204"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:29 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - f3b72bee-28b1-487c-bc97-0327bd8bf5ec
    status: 200 OK
    code: 200
    duration: 155.044292ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      id:
      - e1482a7e-1c39-499f-afcb-49f63e2d7376
      name:
      - ""
      order_by:
      - name_asc
      page:
      - "1"
      type:
      - unknown
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records?id=e1482a7e-1c39-499f-afcb-49f63e2d7376&name=&order_by=name_asc&page=1&type=unknown
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 204
    body: "{\"total_count\":1,\"records\":[{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\",\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":100,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "204"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:29 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - 54ad16ab-04ba-4def-9413-7dc5ed268477
    status: 200 OK
    code: 200
    duration: 109.919211ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      dns_zones:
      - test-srv.scaleway-terraform.com
      domain:
      - ""
      order_by:
      - domain_asc
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones?dns_zones=test-srv.scaleway-terraform.com&domain=&order_by=domain_asc&page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 350
    body: "{\"total_count\":1,\"dns_zones\":[{\"domain\":\"scaleway-terraform.com\",\"subdomain\":\"test-srv\",\"ns\":[\"ns0.dom.scw.cloud\",\"ns1.dom.scw.cloud\"],\"ns_default\":[\"ns0.dom.scw.cloud\",\"ns1.dom.scw.cloud\"],\"ns_master\":[],\"status\":\"pending\",\"message\":null,\"updated_at\":\"2025-08-26T16:25:28Z\",\"project_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"linked_products\":[]}]}"
    headers:
      Content-Length:
      - "350"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:29 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - 1039d24b-1e58-46dc-9ca7-738e26636d2d
    status: 200 OK
    code: 200
    duration: 113.466471ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      name:
      - ""
      order_by:
      - name_asc
      type:
      - unknown
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records?name=&order_by=name_asc&type=unknown
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 474
    body: "{\"total_count\":3,\"records\":[{\"id\":\"02010150-17e5-489f-a9ae-b8005f763e99\",\"data\":\"ns0.dom.scw.cloud.\",\"name\":\"\",\"priority\":0,\"ttl\":1800,\"type\":\"NS\",\"comment\":null},{\"id\":\"12e27922-0805-4056-91e7-b42a30ec5a98\",\"data\":\"ns1.dom.scw.cloud.\",\"name\":\"\",\"priority\":0,\"ttl\":1800,\"type\":\"NS\",\"comment\":null},{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\",\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":100,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "474"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:31 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - 41caa9f6-9bd2-42bd-88d7-e7ddd0e17ec1
    status: 200 OK
    code: 200
    duration: 145.28973ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      id:
      - e1482a7e-1c39-499f-afcb-49f63e2d7376
      name:
      - _proxy-preproduction._tcp
      order_by:
      - name_asc
      page:
      - "1"
      type:
      - SRV
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records?id=e1482a7e-1c39-499f-afcb-49f63e2d7376&name=_proxy-preproduction._tcp&order_by=name_asc&page=1&type=SRV
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 204
    body: "{\"total_count\":1,\"records\":[{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\",\"data\":\"100 1 3128 bigbox.example.com.\",\"name\":\"_proxy-preproduction._tcp\",\"priority\":100,\"ttl\":3600,\"type\":\"SRV\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "204"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:36 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - c15c746f-4cd0-4195-9c3f-e7821ac7fbe8
    status: 200 OK
    code: 200
    duration: 162.805471ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      dns_zones:
      - test-srv.scaleway-terraform.com
      domain:
      - ""
      order_by:
      - domain_asc
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones?dns_zones=test-srv.scaleway-terraform.com&domain=&order_by=domain_asc&page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 349
    body: "{\"total_count\":1,\"dns_zones\":[{\"domain\":\"scaleway-terraform.com\",\"subdomain\":\"test-srv\",\"ns\":[\"ns0.dom.scw.cloud\",\"ns1.dom.scw.cloud\"],\"ns_default\":[\"ns0.dom.scw.cloud\",\"ns1.dom.scw.cloud\"],\"ns_master\":[],\"status\":\"active\",\"message\":null,\"updated_at\":\"2025-08-26T16:25:36Z\",\"project_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"linked_products\":[]}]}"
    headers:
      Content-Length:
      - "349"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:36 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - b97f751f-be19-4a7f-b702-1a8758c71cb2
    status: 200 OK
    code: 200
    duration: 194.944605ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 132
    host: api.scaleway.com
    body: "{\"changes\":[{\"delete\":{\"id\":\"e1482a7e-1c39-499f-afcb-49f63e2d7376\"}}],\"return_all_records\":false,\"disallow_new_zone_creation\":false}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records
    method: PATCH
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 14
    body: "{\"records\":[]}"
    headers:
      Content-Length:
      - "14"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:44 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - 67793c09-468e-4c0f-bf66-bc2ddb01eb10
    status: 200 OK
    code: 200
    duration: 479.131809ms
- id: 9
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      name:
      - ""
      order_by:
      - name_asc
      type:
      - unknown
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/domain/v2beta1/dns-zones/test-srv.scaleway-terraform.com/records?name=&order_by=name_asc&type=unknown
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 299
    body: "{\"total_count\":2,\"records\":[{\"id\":\"02010150-17e5-489f-a9ae-b8005f763e99\",\"data\":\"ns0.dom.scw.cloud.\",\"name\":\"\",\"priority\":0,\"ttl\":1800,\"type\":\"NS\",\"comment\":null},{\"id\":\"12e27922-0805-4056-91e7-b42a30ec5a98\",\"data\":\"ns1.dom.scw.cloud.\",\"name\":\"\",\"priority\":0,\"ttl\":1800,\"type\":\"NS\",\"comment\":null}]}"
    headers:
      Content-Length:
      - "299"
      Content-Type:
      - application/json
      Date:
      - Tue, 26 Aug 2025 16:25:45 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge03)
      X-Request-Id:
      - ce4b046b-5339-46fa-95aa-5405344b80a4
    status: 200 OK
    code: 200
    duration: 210.253294ms
