---
version: 2
interactions:
- request:
    body: '{"name":"test-acc-scaleway-project-1163492042332598707","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v3/projects
    method: POST
  response:
    body: '{"created_at":"2023-07-19T13:37:37.269963Z","description":"","id":"1fdafb17-5e3f-4344-a058-1322a12f43d3","name":"test-acc-scaleway-project-1163492042332598707","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:37.269963Z"}'
    headers:
      Content-Length:
      - "260"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1eeff37f-a76e-4447-91ed-69392f087fd0
    status: 200 OK
    code: 200
- request:
    body: '{"name":"test-acc-scaleway-iam-app-3130460544469990830","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"created_at":"2023-07-19T13:37:37.552323Z","description":"","editable":true,"id":"f58b66fe-a1b1-4490-b449-3f49731dec00","name":"test-acc-scaleway-iam-app-3130460544469990830","nb_api_keys":0,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:37.552323Z"}'
    headers:
      Content-Length:
      - "292"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8de3fa17-2826-4cc0-8425-a77d891ac5cb
    status: 200 OK
    code: 200
- request:
    body: '{"name":"test-acc-scaleway-iam-policy-3226705408535778425","description":"","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","rules":[{"permission_set_names":["IAMManager"],"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"}],"application_id":"f58b66fe-a1b1-4490-b449-3f49731dec00"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    body: '{"application_id":"f58b66fe-a1b1-4490-b449-3f49731dec00","created_at":"2023-07-19T13:37:37.751751Z","description":"","editable":true,"id":"ccef4aee-14cf-45d9-ae64-b2b7d48bcc9d","name":"test-acc-scaleway-iam-policy-3226705408535778425","nb_permission_sets":0,"nb_rules":0,"nb_scopes":0,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:37.751751Z"}'
    headers:
      Content-Length:
      - "385"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5ff8ad50-35fa-4812-8e85-335552f71bce
    status: 200 OK
    code: 200
- request:
    body: '{"application_id":"f58b66fe-a1b1-4490-b449-3f49731dec00","expires_at":null,"default_project_id":"1fdafb17-5e3f-4344-a058-1322a12f43d3","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCW3F7QFK884XSD1G4X4","application_id":"f58b66fe-a1b1-4490-b449-3f49731dec00","created_at":"2023-07-19T13:37:37.919168Z","creation_ip":"51.159.73.9","default_project_id":"1fdafb17-5e3f-4344-a058-1322a12f43d3","description":"","editable":true,"expires_at":null,"secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-07-19T13:37:37.919168Z"}'
    headers:
      Content-Length:
      - "370"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0957e7fc-9eb3-4ba1-820d-07376566ca9d
    status: 200 OK
    code: 200
- request:
    body: '{"name":"tf_tests_policy_changeruleprincipal","description":"a description","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","rules":[{"permission_set_names":["AllProductsFullAccess"],"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"}],"no_principal":true}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":0,"nb_rules":0,"nb_scopes":0,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:38.989808Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - deb0a58c-818e-4795-8190-98556d9a7b56
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:38.989808Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1d9ea74c-0d21-4f47-aa89-ca52da51ed53
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"rules":[{"id":"14a4f587-e969-4777-8ec5-46876625ef86","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"projects"}],"total_count":1}'
    headers:
      Content-Length:
      - "219"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 35482837-5746-4ee9-b1e4-4d68724d9010
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:38.989808Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 13494a1c-40cd-4862-af7c-23bd0a4cf122
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:38.989808Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:40 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - dfab844e-71a4-4db2-879b-11a411fb2094
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"rules":[{"id":"14a4f587-e969-4777-8ec5-46876625ef86","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"projects"}],"total_count":1}'
    headers:
      Content-Length:
      - "219"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:41 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 07ca7067-7e94-473d-af77-7563f5eca1e8
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:38.989808Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:42 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 33b6e300-b88a-41c5-a2c9-154bb32dcfd1
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"rules":[{"id":"14a4f587-e969-4777-8ec5-46876625ef86","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"projects"}],"total_count":1}'
    headers:
      Content-Length:
      - "219"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:42 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b695df4b-8d51-4fb4-8b2f-19c300ba6686
    status: 200 OK
    code: 200
- request:
    body: '{"policy_id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","rules":[{"permission_set_names":["AllProductsFullAccess"],"project_ids":["ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"]}]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules
    method: PUT
  response:
    body: '{"rules":[{"id":"0072612f-4661-4761-8158-b8a41b6b7d8b","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"projects","project_ids":["ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"]}]}'
    headers:
      Content-Length:
      - "201"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:42 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 84f34bbf-0a11-4b8d-974d-d71b00c50fa5
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:42.583779Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:42 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d5c7bd16-245a-4aae-a4c9-85ca12b30682
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"rules":[{"id":"0072612f-4661-4761-8158-b8a41b6b7d8b","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"projects","project_ids":["ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"]}],"total_count":1}'
    headers:
      Content-Length:
      - "217"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:42 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b4631e4f-8c83-4eb9-9894-a9a7ae82b578
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:42.583779Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:42 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5a00dcde-6497-4e8b-a72b-adb8a5a28f05
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"created_at":"2023-07-19T13:37:38.989808Z","description":"a description","editable":true,"id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","name":"tf_tests_policy_changeruleprincipal","nb_permission_sets":1,"nb_rules":1,"nb_scopes":1,"no_principal":true,"organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","updated_at":"2023-07-19T13:37:42.583779Z"}'
    headers:
      Content-Length:
      - "349"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:43 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 90093c0d-c607-4e36-aa9d-a26af569e8e7
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"rules":[{"id":"0072612f-4661-4761-8158-b8a41b6b7d8b","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"projects","project_ids":["ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"]}],"total_count":1}'
    headers:
      Content-Length:
      - "217"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:44 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7a639a96-1add-4dc9-863d-2cffafa433ab
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:45 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9f3c3eab-b153-4a45-ab82-dc87bb5c92be
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW3F7QFK884XSD1G4X4
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 11d48fe4-c07b-405d-9698-387afa78e02a
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/ccef4aee-14cf-45d9-ae64-b2b7d48bcc9d
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ce21345d-ab1a-4db3-b008-e9a1d06af0cd
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/f58b66fe-a1b1-4490-b449-3f49731dec00
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2b266edd-be39-4d8e-ab7a-26732a5380be
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v3/projects/1fdafb17-5e3f-4344-a058-1322a12f43d3
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d45857ed-6b66-4ec0-bdde-663979f9ba0d
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/c4c30a93-5642-4683-bcfe-48902f66a3cf
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"iam_policy","resource_id":"c4c30a93-5642-4683-bcfe-48902f66a3cf","type":"not_found"}'
    headers:
      Content-Length:
      - "131"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Jul 2023 13:37:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 640e0783-a3a8-4bcf-b357-7ec608646808
    status: 404 Not Found
    code: 404
