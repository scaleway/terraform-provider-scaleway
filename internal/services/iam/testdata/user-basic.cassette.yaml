---
version: 2
interactions:
- request:
    body: '{"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","email":"foo@scaleway.com"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/users
    method: POST
  response:
    body: '{"account_root_user_id":"87e96904-46a8-4be7-829d-f0d6b7889f32","created_at":"2023-10-13T07:31:09.980437Z","deletable":true,"email":"foo@scaleway.com","id":"566f59f7-9d96-430e-9f75-8c3cb3c4c39b","last_login_at":null,"mfa":false,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","status":"invitation_pending","two_factor_enabled":false,"type":"unknown_type","updated_at":"2023-10-13T07:31:09.980437Z"}'
    headers:
      Content-Length:
      - "406"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 13 Oct 2023 07:31:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 62e7d8b4-3221-4f3a-a797-405b1b9f43c4
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/users/566f59f7-9d96-430e-9f75-8c3cb3c4c39b
    method: GET
  response:
    body: '{"account_root_user_id":"87e96904-46a8-4be7-829d-f0d6b7889f32","created_at":"2023-10-13T07:31:09.980437Z","deletable":true,"email":"foo@scaleway.com","id":"566f59f7-9d96-430e-9f75-8c3cb3c4c39b","last_login_at":null,"mfa":false,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","status":"invitation_pending","two_factor_enabled":false,"type":"guest","updated_at":"2023-10-13T07:31:09.980437Z"}'
    headers:
      Content-Length:
      - "399"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 13 Oct 2023 07:31:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4cf7c359-af86-4f9c-8066-2a7c1d22b4ae
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/users/566f59f7-9d96-430e-9f75-8c3cb3c4c39b
    method: GET
  response:
    body: '{"account_root_user_id":"87e96904-46a8-4be7-829d-f0d6b7889f32","created_at":"2023-10-13T07:31:09.980437Z","deletable":true,"email":"foo@scaleway.com","id":"566f59f7-9d96-430e-9f75-8c3cb3c4c39b","last_login_at":null,"mfa":false,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","status":"invitation_pending","two_factor_enabled":false,"type":"guest","updated_at":"2023-10-13T07:31:09.980437Z"}'
    headers:
      Content-Length:
      - "399"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 13 Oct 2023 07:31:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ddb72776-a9cd-480f-aa05-7253058f674b
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/users/566f59f7-9d96-430e-9f75-8c3cb3c4c39b
    method: GET
  response:
    body: '{"account_root_user_id":"87e96904-46a8-4be7-829d-f0d6b7889f32","created_at":"2023-10-13T07:31:09.980437Z","deletable":true,"email":"foo@scaleway.com","id":"566f59f7-9d96-430e-9f75-8c3cb3c4c39b","last_login_at":null,"mfa":false,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","status":"invitation_pending","two_factor_enabled":false,"type":"guest","updated_at":"2023-10-13T07:31:09.980437Z"}'
    headers:
      Content-Length:
      - "399"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 13 Oct 2023 07:31:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 49d7e473-5cb4-4d15-97e1-28f211dd8f85
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/users/566f59f7-9d96-430e-9f75-8c3cb3c4c39b
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 13 Oct 2023 07:31:11 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2b05312e-2d3b-4eee-a8f9-fdd7125876c8
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/users/566f59f7-9d96-430e-9f75-8c3cb3c4c39b
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"iam_user","resource_id":"566f59f7-9d96-430e-9f75-8c3cb3c4c39b","type":"not_found"}'
    headers:
      Content-Length:
      - "129"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 13 Oct 2023 07:31:11 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1d31ed66-9084-447c-98bf-0c8538ff6760
    status: 404 Not Found
    code: 404
