---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 219
        host: api.scaleway.com
        body: '{"project_id":"105bdce1-64c0-48ab-899d-868455867ecf","name":"tf-test-kms-key-ds","usage":{"symmetric_encryption":"aes_256_gcm"},"description":"Test key","tags":["tf","test"],"unprotected":true,"origin":"unknown_origin"}'
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 528
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"enabled", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":null, "region":"fr-par"}'
        headers:
            Content-Length:
                - "528"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:49 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - e64a579d-637b-4e5f-9c2f-d32401ccd346
        status: 200 OK
        code: 200
        duration: 347.135175ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 528
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"enabled", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":null, "region":"fr-par"}'
        headers:
            Content-Length:
                - "528"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:49 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - 085c1c1d-4d8f-46ce-a43c-8257d12310b4
        status: 200 OK
        code: 200
        duration: 109.644943ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 528
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"enabled", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":null, "region":"fr-par"}'
        headers:
            Content-Length:
                - "528"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:49 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - f95c2e70-44eb-4a9f-a8dd-6a4a2d9de513
        status: 200 OK
        code: 200
        duration: 33.101847ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 528
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"enabled", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":null, "region":"fr-par"}'
        headers:
            Content-Length:
                - "528"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:49 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - 6031c67e-9fe7-4ca2-bb0a-36ff36c4c485
        status: 200 OK
        code: 200
        duration: 43.622594ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 528
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"enabled", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":null, "region":"fr-par"}'
        headers:
            Content-Length:
                - "528"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:49 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - c1382a47-b4d5-49c8-8572-8c0e6cdf05ef
        status: 200 OK
        code: 200
        duration: 210.627777ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 528
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"enabled", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":null, "region":"fr-par"}'
        headers:
            Content-Length:
                - "528"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:49 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - acc93d65-b589-4148-ba30-76cbc4aeb5dd
        status: 200 OK
        code: 200
        duration: 46.223733ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 0
        body: ""
        headers:
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:50 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - 74a314c7-1257-48b4-9df7-6b935cdb4c47
        status: 204 No Content
        code: 204
        duration: 304.019528ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 568
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"scheduled_for_deletion", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":"2026-01-07T10:29:50.441812Z", "region":"fr-par"}'
        headers:
            Content-Length:
                - "568"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:50 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - 60e9d07c-be71-491c-9cc7-ae1d1c2a5d16
        status: 200 OK
        code: 200
        duration: 69.312031ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.scaleway.com
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.5; linux; amd64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/key-manager/v1alpha1/regions/fr-par/keys/1e72cf51-7cac-4919-8a3e-b55f5676450a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: 568
        body: '{"id":"1e72cf51-7cac-4919-8a3e-b55f5676450a", "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "name":"tf-test-kms-key-ds", "usage":{"symmetric_encryption":"aes_256_gcm"}, "state":"scheduled_for_deletion", "rotation_count":1, "created_at":"2026-01-07T10:29:49.169098Z", "updated_at":"2026-01-07T10:29:49.172835Z", "protected":false, "locked":false, "description":"Test key", "tags":["tf", "test"], "rotated_at":"2026-01-07T10:29:49.172835Z", "rotation_policy":null, "origin":"scaleway_kms", "deletion_requested_at":"2026-01-07T10:29:50.441812Z", "region":"fr-par"}'
        headers:
            Content-Length:
                - "568"
            Content-Type:
                - application/json
            Date:
                - Wed, 07 Jan 2026 10:29:50 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            X-Request-Id:
                - d018f1fd-8b55-4099-8c73-ca0063318cb4
        status: 200 OK
        code: 200
        duration: 57.793578ms
