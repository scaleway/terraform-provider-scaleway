---
subcategory: "Elastic Metal"
page_title: "Scaleway: scaleway_baremetal_partition_schema"
---

# scaleway_baremetal_partition_schema

The scaleway_baremetal_partition_schema data source allows you to retrieve a ready-to-use partitioning schema for a BareMetal server. This schema can be used for custom installations with optional swap and extra partitions.

This data source simplifies the process of generating valid partitioning configurations, especially useful when dealing with OS and offer compatibility requirements.

## Partitioning Details

The partitioning schema generated by the `scaleway_baremetal_partition_schema` data source includes a root (`/`) partition that is **20GB** in size by default.

If additional storage is required, you can enable the `extra_partition` option to mount extra space on a custom path (e.g., `/data`).


## Example Usage

```hcl
data "scaleway_baremetal_partition_schema" "default" {
  offer_id         = "11111111-1111-1111-1111-111111111111"
  os_id            = "22222222-2222-2222-2222-222222222222"
  swap             = true
  extra_partition  = true
  ext_4_mountpoint = "/data"
}
```

```hcl
data "scaleway_baremetal_offer" "my_offer" {
  zone = "fr-par-1"
  name = "EM-B220E-NVME"
}

data "scaleway_baremetal_os" "my_os" {
  zone    = "fr-par-1"
  name    = "Ubuntu"
  version = "22.04 LTS (Jammy Jellyfish)"
}

resource "scaleway_iam_ssh_key" "main" {
  name       = "my-ssh-key"
  public_key = "my-ssh-key-public"
}

data "scaleway_baremetal_easy_partitioning" "test" {
  offer_id         = data.scaleway_baremetal_offer.my_offer.offer_id
  os_id            = data.scaleway_baremetal_os.my_os.os_id
  swap             = false
  ext_4_mountpoint = "/hello"
}

resource "scaleway_baremetal_server" "base" {
  name         = "my-baremetal-server"
  zone         = "fr-par-1"
  description  = "test a description"
  offer        = data.scaleway_baremetal_offer.my_offer.offer_id
  os           = data.scaleway_baremetal_os.my_os.os_id
  partitioning = data.scaleway_baremetal_easy_partitioning.test.json_partition
  tags         = ["terraform-test", "scaleway_baremetal_server", "minimal", "edited"]
  ssh_key_ids  = [scaleway_iam_ssh_key.main.id]
}
```

## Argument Reference

- `offer_id` (Required) The UUID of the BareMetal offer.

- `os_id` (Required) The UUID of the OS image.

- `swap` (Optional, Default: true) Whether to include a swap partition.

- `extra_partition` (Optional, Default: true) Whether to add an extra ext4 data partition.

- `ext_4_mountpoint` (Optional, Default: "/data") The mount point for the extra partition. Must be an absolute path using alphanumeric characters and underscores.

## Attributes Reference

In addition to all above arguments, the following attributes are exported:

- `id` — A composite identifier derived from offer_id and os_id.

- `json_partition` — A validated partitioning schema in JSON format that can be directly used for BareMetal server deployment.
