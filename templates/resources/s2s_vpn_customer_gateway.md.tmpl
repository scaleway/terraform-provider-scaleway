{{- /*gotype: github.com/hashicorp/terraform-plugin-docs/internal/provider.ResourceTemplateType */ -}}
---
subcategory: "S2S VPN"
page_title: "Scaleway: scaleway_s2s_vpn_customer_gateway"
---

# Resource: scaleway_s2s_vpn_customer_gateway

Creates and manages Scaleway Site-to-Site VPN Customer Gateways.
A customer gateway represents your external VPN endpoint (e.g., a firewall, router, or VPN appliance).

For more information, see [the main documentation](https://www.scaleway.com/en/docs/site-to-site-vpn/reference-content/understanding-s2svpn/).

## Example Usage

### Basic

```terraform
resource "scaleway_s2s_vpn_customer_gateway" "customer_gw" {
name        = "my-customer-gateway"
ipv4_public = "203.0.113.1"
asn         = 65000
}
```

### With IPv6

```terraform
resource "scaleway_s2s_vpn_customer_gateway" "customer_gw" {
name       = "my-customer-gateway"
ipv4_public = "203.0.113.1"
ipv6_public = "2001:db8::1"
asn         = 65000
}
```

### Using Instance Public IP

```terraform
resource "scaleway_instance_ip" "vpn_endpoint_ip" {}

resource "scaleway_instance_server" "vpn_endpoint" {
name  = "vpn-endpoint"
type  = "DEV1-S"
image = "ubuntu_jammy"
ip_ids = [scaleway_instance_ip.vpn_endpoint_ip.id]
}

resource "scaleway_s2s_vpn_customer_gateway" "customer_gw" {
name       = "my-customer-gateway"
ipv4_public = scaleway_instance_ip.vpn_endpoint_ip.address
asn        = 65000
}
```

## Argument Reference

The following arguments are supported:

- `asn` - (Required) The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
- `ipv4_public` - (Optional) The public IPv4 address of the customer gateway (your VPN endpoint).
- `ipv6_public` - (Optional) The public IPv6 address of the customer gateway (your VPN endpoint).
- `name` - (Optional) The name of the customer gateway. If not provided, it will be randomly generated.
- `tags` - (Optional) The list of tags to apply to the customer gateway.
- `region` - (Defaults to [provider](../index.md#region) `region`) The [region](../guides/regions_and_zones.md#regions) in which the customer gateway should be created.
- `project_id` - (Defaults to [provider](../index.md#project_id) `project_id`) The ID of the project the customer gateway is associated with.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

- `id` - The ID of the customer gateway.
- `created_at` - The date and time of the creation of the customer gateway (RFC 3339 format).
- `updated_at` - The date and time of the last update of the customer gateway (RFC 3339 format).
- `organization_id` - The Organization ID the customer gateway is associated with.

~> **Important:** Customer Gateways' IDs are [regional](../guides/regions_and_zones.md#resource-ids), which means they are of the form `{region}/{id}`, e.g. `fr-par/11111111-1111-1111-1111-111111111111`

## Import

Customer Gateways can be imported using `{region}/{id}`, e.g.

```bash
terraform import scaleway_s2s_vpn_customer_gateway.main fr-par/11111111-1111-1111-1111-111111111111
```
