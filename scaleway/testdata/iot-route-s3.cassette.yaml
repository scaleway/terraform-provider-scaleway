---
version: 2
interactions:
- request:
    body: <CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><LocationConstraint>fr-par</LocationConstraint></CreateBucketConfiguration>
    form: {}
    headers:
      Content-Length:
      - "150"
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Bucket-Object-Lock-Enabled:
      - "false"
      X-Amz-Content-Sha256:
      - 2cb57fad7b7168921a4c94426cfcb9ee2953f126430595df844e22d50f029060
      X-Amz-Date:
      - 20231212T125209Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      Location:
      - /test-acc-scaleway-iot-route-s3-1457361006177109031
      X-Amz-Id-2:
      - txgf0ad07d2776342d19d10-0065785779
      X-Amz-Request-Id:
      - txgf0ad07d2776342d19d10-0065785779
    status: 200 OK
    code: 200
- request:
    body: '{"name":"minimal","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","events_topic_prefix":"$SCW/events"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs
    method: POST
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"enabling","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "532"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 78410230-9978-4cbd-a8c1-82d5a69a5d26
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2e33b6e5-e493-4a0d-8f7c-62595ac3338a
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      Content-Md5:
      - 1B2M2Y8AsgTpgAmY7PhCfg==
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125209Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?acl=
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      X-Amz-Id-2:
      - txg695766664c114011b6a3-0065785779
      X-Amz-Request-Id:
      - txg695766664c114011b6a3-0065785779
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125209Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?acl=
    method: GET
  response:
    body: |-
      <?xml version="1.0" encoding="UTF-8"?>
      <AccessControlPolicy xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Owner><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID></Owner><AccessControlList><Grant><Grantee xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CanonicalUser"><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Grantee><Permission>FULL_CONTROL</Permission></Grant></AccessControlList></AccessControlPolicy>
    headers:
      Content-Length:
      - "698"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      X-Amz-Id-2:
      - txgd9e0b1ae202144e2867e-0065785779
      X-Amz-Request-Id:
      - txgd9e0b1ae202144e2867e-0065785779
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fbc0dc04-3c86-43ec-8c14-c4f7a6bdeb1b
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125209Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?object-lock=
    method: GET
  response:
    body: <Error><Code>ObjectLockConfigurationNotFoundError</Code><Message>Object
      Lock configuration does not exist for this bucket</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txga26bda8c36cb4985815f-0065785779</RequestId></Error>
    headers:
      Content-Length:
      - "268"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      X-Amz-Id-2:
      - txga26bda8c36cb4985815f-0065785779
      X-Amz-Request-Id:
      - txga26bda8c36cb4985815f-0065785779
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125209Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version="1.0" encoding="UTF-8"?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-iot-route-s3-1457361006177109031</Name><Prefix></Prefix><Marker></Marker><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated></ListBucketResult>
    headers:
      Content-Length:
      - "276"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      X-Amz-Id-2:
      - txg3fe29251e5b24bdd8e07-0065785779
      X-Amz-Request-Id:
      - txg3fe29251e5b24bdd8e07-0065785779
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125209Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: <Error><Code>NoSuchTagSet</Code><Message>The TagSet does not exist</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txga1738544b46547788135-0065785779</RequestId></Error>
    headers:
      Content-Length:
      - "213"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:09 GMT
      X-Amz-Id-2:
      - txga1738544b46547788135-0065785779
      X-Amz-Request-Id:
      - txga1738544b46547788135-0065785779
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125210Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration
      does not exist</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txgf6fb233ec035425cb357-006578577a</RequestId></Error>
    headers:
      Content-Length:
      - "236"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      X-Amz-Id-2:
      - txgf6fb233ec035425cb357-006578577a
      X-Amz-Request-Id:
      - txgf6fb233ec035425cb357-006578577a
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125210Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version="1.0" encoding="UTF-8"?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"></VersioningConfiguration>
    headers:
      Content-Length:
      - "138"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      X-Amz-Id-2:
      - txgaa95e409d7d34d9480fb-006578577a
      X-Amz-Request-Id:
      - txgaa95e409d7d34d9480fb-006578577a
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125210Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration
      does not exist</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txg8daada31f0ad42778cb2-006578577a</RequestId></Error>
    headers:
      Content-Length:
      - "246"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      X-Amz-Id-2:
      - txg8daada31f0ad42778cb2-006578577a
      X-Amz-Request-Id:
      - txg8daada31f0ad42778cb2-006578577a
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0955f609-8d1d-41be-b440-bb57afca5774
    status: 200 OK
    code: 200
- request:
    body: '{"name":"default","hub_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","topic":"#","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3-1457361006177109031","object_prefix":"foo","strategy":"per_topic"}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes
    method: POST
  response:
    body: '{"created_at":"2023-12-12T12:52:10.360Z","hub_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","id":"0d650cea-c46e-4354-95ba-9bfdf986befa","name":"default","s3_config":{"bucket_name":"test-acc-scaleway-iot-route-s3-1457361006177109031","bucket_region":"fr-par","object_prefix":"foo","strategy":"per_topic"},"topic":"#","type":"s3","updated_at":"2023-12-12T12:52:10.360Z"}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4e32a8df-a5a7-4c51-88a5-f667130eeaa8
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - be8085bc-590e-4593-b04e-718b0f97e4e2
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/0d650cea-c46e-4354-95ba-9bfdf986befa
    method: GET
  response:
    body: '{"created_at":"2023-12-12T12:52:10.360Z","hub_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","id":"0d650cea-c46e-4354-95ba-9bfdf986befa","name":"default","s3_config":{"bucket_name":"test-acc-scaleway-iot-route-s3-1457361006177109031","bucket_region":"fr-par","object_prefix":"foo","strategy":"per_topic"},"topic":"#","type":"s3","updated_at":"2023-12-12T12:52:10.360Z"}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e912091b-6375-43dd-bb15-d32ea0f7e89a
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125210Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/
    method: HEAD
  response:
    body: ""
    headers:
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      X-Amz-Bucket-Region:
      - fr-par
      X-Amz-Id-2:
      - txgb8470911cd644610b036-006578577a
      X-Amz-Request-Id:
      - txgb8470911cd644610b036-006578577a
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 17cb0b38-df6a-46d1-8566-3ef7a3e5f6d4
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/0d650cea-c46e-4354-95ba-9bfdf986befa
    method: GET
  response:
    body: '{"created_at":"2023-12-12T12:52:10.360Z","hub_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","id":"0d650cea-c46e-4354-95ba-9bfdf986befa","name":"default","s3_config":{"bucket_name":"test-acc-scaleway-iot-route-s3-1457361006177109031","bucket_region":"fr-par","object_prefix":"foo","strategy":"per_topic"},"topic":"#","type":"s3","updated_at":"2023-12-12T12:52:10.360Z"}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 83f05cda-61f1-4d5c-acba-b32f0452d4a8
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?acl=
    method: GET
  response:
    body: |-
      <?xml version="1.0" encoding="UTF-8"?>
      <AccessControlPolicy xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Owner><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID></Owner><AccessControlList><Grant><Grantee xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CanonicalUser"><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Grantee><Permission>FULL_CONTROL</Permission></Grant></AccessControlList></AccessControlPolicy>
    headers:
      Content-Length:
      - "698"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txg2d9ee05c2cde444493e5-006578577b
      X-Amz-Request-Id:
      - txg2d9ee05c2cde444493e5-006578577b
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 73e0e211-8125-4df0-850b-598af0fbd459
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?object-lock=
    method: GET
  response:
    body: <Error><Code>ObjectLockConfigurationNotFoundError</Code><Message>Object
      Lock configuration does not exist for this bucket</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txg03e77651a51442d9806f-006578577b</RequestId></Error>
    headers:
      Content-Length:
      - "268"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txg03e77651a51442d9806f-006578577b
      X-Amz-Request-Id:
      - txg03e77651a51442d9806f-006578577b
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version="1.0" encoding="UTF-8"?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-iot-route-s3-1457361006177109031</Name><Prefix></Prefix><Marker></Marker><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated></ListBucketResult>
    headers:
      Content-Length:
      - "276"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txg6f0702cb92944abebab2-006578577b
      X-Amz-Request-Id:
      - txg6f0702cb92944abebab2-006578577b
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: <Error><Code>NoSuchTagSet</Code><Message>The TagSet does not exist</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txg31a16d7423d64953b88e-006578577b</RequestId></Error>
    headers:
      Content-Length:
      - "213"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txg31a16d7423d64953b88e-006578577b
      X-Amz-Request-Id:
      - txg31a16d7423d64953b88e-006578577b
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration
      does not exist</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txg6528554caa5144398e07-006578577b</RequestId></Error>
    headers:
      Content-Length:
      - "236"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txg6528554caa5144398e07-006578577b
      X-Amz-Request-Id:
      - txg6528554caa5144398e07-006578577b
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version="1.0" encoding="UTF-8"?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"></VersioningConfiguration>
    headers:
      Content-Length:
      - "138"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txg8042bddf406e45f38909-006578577b
      X-Amz-Request-Id:
      - txg8042bddf406e45f38909-006578577b
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125211Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration
      does not exist</Message><Resource>/test-acc-scaleway-iot-route-s3-1457361006177109031</Resource><RequestId>txgadf6a08b9a85426aa5d7-006578577b</RequestId></Error>
    headers:
      Content-Length:
      - "246"
      Content-Type:
      - application/xml
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      X-Amz-Id-2:
      - txgadf6a08b9a85426aa5d7-006578577b
      X-Amz-Request-Id:
      - txgadf6a08b9a85426aa5d7-006578577b
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/0d650cea-c46e-4354-95ba-9bfdf986befa
    method: GET
  response:
    body: '{"created_at":"2023-12-12T12:52:10.360Z","hub_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","id":"0d650cea-c46e-4354-95ba-9bfdf986befa","name":"default","s3_config":{"bucket_name":"test-acc-scaleway-iot-route-s3-1457361006177109031","bucket_region":"fr-par","object_prefix":"foo","strategy":"per_topic"},"topic":"#","type":"s3","updated_at":"2023-12-12T12:52:10.360Z"}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:11 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bb9d7ac5-363b-4aa5-a44b-9c50df0f17c8
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:12 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b8ca4f31-33ad-4760-9b2d-bc00727694e5
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/0d650cea-c46e-4354-95ba-9bfdf986befa
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:12 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fd5585b4-6251-4b61-8103-4749193db063
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"connected_device_count":0,"created_at":"2023-12-12T12:52:09.150Z","device_count":0,"disable_events":false,"enable_device_auto_provisioning":false,"enabled":true,"endpoint":"iot.fr-par.scw.cloud","events_topic_prefix":"$SCW/events","has_custom_ca":false,"id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","name":"minimal","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","product_plan":"plan_shared","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","region":"fr-par","status":"ready","updated_at":"2023-12-12T12:52:09.150Z"}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:12 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7d72d202-4f2f-485c-95fa-0cda6e6012fd
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:12 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fea20cca-9dcc-436e-b4c2-e0320d8ff0b5
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:12 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3cd797c9-0123-438e-9fe3-bc135446bebc
    status: 404 Not Found
    code: 404
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.47.1 (go1.20.4; linux; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20231212T125212Z
    url: https://test-acc-scaleway-iot-route-s3-1457361006177109031.s3.fr-par.scw.cloud/
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Tue, 12 Dec 2023 12:52:12 GMT
      X-Amz-Id-2:
      - txg77bc95bbe99444379f47-006578577c
      X-Amz-Request-Id:
      - txg77bc95bbe99444379f47-006578577c
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/8ac5adf8-510b-4ab9-8c2f-00327338b898
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"8ac5adf8-510b-4ab9-8c2f-00327338b898","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 12 Dec 2023 12:52:13 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 02a605b8-520b-4008-8d6d-06740ac47ac5
    status: 404 Not Found
    code: 404
