---
version: 2
interactions:
- request:
    body: '{"name":"test-mnq-nats-credentials-basic","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-accounts
    method: POST
  response:
    body: '{"created_at":"2023-10-16T09:29:28.448677598Z","endpoint":"nats://nats.mnq.fr-par.scaleway.com:4222","id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","name":"test-mnq-nats-credentials-basic","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","region":"fr-par","updated_at":"2023-10-16T09:29:28.448677598Z"}'
    headers:
      Content-Length:
      - "322"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:29 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 182610ad-57a1-4d29-9aa9-8b8b2186d590
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-accounts/ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4
    method: GET
  response:
    body: '{"created_at":"2023-10-16T09:29:28.448677Z","endpoint":"nats://nats.mnq.fr-par.scaleway.com:4222","id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","name":"test-mnq-nats-credentials-basic","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","region":"fr-par","updated_at":"2023-10-16T09:29:28.448677Z"}'
    headers:
      Content-Length:
      - "316"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:29 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ff89980e-ecc1-4a45-81a9-59d9d6858d99
    status: 200 OK
    code: 200
- request:
    body: '{"nats_account_id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","name":"tf-nats-credentials-epic-noether"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-credentials
    method: POST
  response:
    body: '{"checksum":"cfec606fd2cc45c6638d2c788e94b051740bca9a","created_at":"2023-10-16T09:29:29.662483679Z","credentials":{"content":"-----BEGIN
      NATS USER JWT-----\neyJ0eXAiOiJKV1QiLCJhbGciOiJlZDI1NTE5LW5rZXkifQ.eyJqdGkiOiJMWldNMzJZRkwzS0JKSkpGVTJBR1VLVDZIU09ORVpJQVBOWVNDQk1GTENIN0xFVlIzSU5BIiwiaWF0IjoxNjk3NDQ4NTY5LCJpc3MiOiJBRFdFWUQ0T0RGNExRN09QUk01TEVQTVJOUlRPWjRVU0lEWjRBSEZMRk5KRzZGR0pTWVVJVEo1VSIsIm5hbWUiOiJ0Zi1uYXRzLWNyZWRlbnRpYWxzLWVwaWMtbm9ldGhlciIsInN1YiI6IlVDSTI0VjNXM0dGVVRHSU5WM1VQTkZMTllMTUlNVE9DVkRTSzZYTlBNUTM0V1JDR1I1RjI3UDdUIiwibmF0cyI6eyJwdWIiOnt9LCJzdWIiOnt9LCJzdWJzIjotMSwiZGF0YSI6LTEsInBheWxvYWQiOi0xLCJpc3N1ZXJfYWNjb3VudCI6IkFCR0paWFlHQlJTR1BXSFJBR0VTVU9VVUZYMkg3TkdWVUZJTExYQTY3TFQ1UUpDV1dUWDQ2V1M0IiwidHlwZSI6InVzZXIiLCJ2ZXJzaW9uIjoyfX0.3re1n1JuuKHHe7T3Em1gbLBgXl7XtCd55fTHsWSvtMGdgrK6KILwtSveYj7FPCPcyDPB3yS-2Zhsc2iDk17vCQ\n------END
      NATS USER JWT------\n\n************************* IMPORTANT *************************\nNKEY
      Seed printed below can be used to sign and prove identity.\nNKEYs are sensitive
      and should be treated as secrets.\n\n-----BEGIN USER NKEY SEED-----\nSUADAXGDOCZHJPHHOPK6HWIY64BYJJOEJT5M5ETTCJABYWF45GVTPHCKNI\n------END
      USER NKEY SEED------\n\n*************************************************************\n","name":"user.creds"},"id":"f7282b66-58c1-424f-a3a6-af4d638f6df0","name":"tf-nats-credentials-epic-noether","nats_account_id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","updated_at":null}'
    headers:
      Content-Length:
      - "1456"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:29 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 45a52bce-878d-443c-959c-cd6944e1ed10
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-credentials/f7282b66-58c1-424f-a3a6-af4d638f6df0
    method: GET
  response:
    body: '{"checksum":"cfec606fd2cc45c6638d2c788e94b051740bca9a","created_at":"2023-10-16T09:29:29.662835Z","credentials":null,"id":"f7282b66-58c1-424f-a3a6-af4d638f6df0","name":"tf-nats-credentials-epic-noether","nats_account_id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","updated_at":null}'
    headers:
      Content-Length:
      - "298"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:29 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 19d14a39-b0b1-4dd8-8fa6-49dde1078db1
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-credentials/f7282b66-58c1-424f-a3a6-af4d638f6df0
    method: GET
  response:
    body: '{"checksum":"cfec606fd2cc45c6638d2c788e94b051740bca9a","created_at":"2023-10-16T09:29:29.662835Z","credentials":null,"id":"f7282b66-58c1-424f-a3a6-af4d638f6df0","name":"tf-nats-credentials-epic-noether","nats_account_id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","updated_at":null}'
    headers:
      Content-Length:
      - "298"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:29 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 28cd9eeb-d908-4228-a902-3e33d0c75f97
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-accounts/ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4
    method: GET
  response:
    body: '{"created_at":"2023-10-16T09:29:28.448677Z","endpoint":"nats://nats.mnq.fr-par.scaleway.com:4222","id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","name":"test-mnq-nats-credentials-basic","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","region":"fr-par","updated_at":"2023-10-16T09:29:28.448677Z"}'
    headers:
      Content-Length:
      - "316"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:30 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f438e1e4-17cc-4cb9-95a5-d9c8a9d58be6
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-credentials/f7282b66-58c1-424f-a3a6-af4d638f6df0
    method: GET
  response:
    body: '{"checksum":"cfec606fd2cc45c6638d2c788e94b051740bca9a","created_at":"2023-10-16T09:29:29.662835Z","credentials":null,"id":"f7282b66-58c1-424f-a3a6-af4d638f6df0","name":"tf-nats-credentials-epic-noether","nats_account_id":"ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4","updated_at":null}'
    headers:
      Content-Length:
      - "298"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:30 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 49fa93ff-05f7-465b-af8b-82755d6491f4
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-credentials/f7282b66-58c1-424f-a3a6-af4d638f6df0
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:31 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f9068ea1-efa2-44fd-b085-e947e0c25b4d
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-accounts/ABGJZXYGBRSGPWHRAGESUOUUFX2H7NGVUFILLXA67LT5QJCWWTX46WS4
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:32 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7f92d4c7-fcd6-43ca-a048-8de2689adfce
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/mnq/v1beta1/regions/fr-par/nats-credentials/f7282b66-58c1-424f-a3a6-af4d638f6df0
    method: DELETE
  response:
    body: '{"message":"resource is not found","resource":"credential","resource_id":"f7282b66-58c1-424f-a3a6-af4d638f6df0","type":"not_found"}'
    headers:
      Content-Length:
      - "131"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 16 Oct 2023 09:29:32 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d954d726-2438-4dd6-9f3a-8c4c2c0f37d7
    status: 404 Not Found
    code: 404
